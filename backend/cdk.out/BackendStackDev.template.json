{
 "Resources": {
  "imgsdevE069EC0F": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "BucketName": "segment-imgs-dev",
    "Tags": [
     {
      "Key": "aws-cdk:cr-owned:6db5dc75",
      "Value": "true"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/imgs-dev/Resource"
   }
  },
  "segmentimgsdeploydevAwsCliLayer45A031E2": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "823f6b284b7398541ad875711f17011724c206ee7fbbd046c66f171875c66c66.zip"
    },
    "Description": "/opt/awscli/aws"
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-imgs-deploy-dev/AwsCliLayer/Resource",
    "aws:asset:path": "asset.823f6b284b7398541ad875711f17011724c206ee7fbbd046c66f171875c66c66.zip",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "segmentimgsdeploydevCustomResource81C46375": {
   "Type": "Custom::CDKBucketDeployment",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
      "Arn"
     ]
    },
    "SourceBucketNames": [
     {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     }
    ],
    "SourceObjectKeys": [
     "dc53a013b16d192a39fa5491b05333eb2f49132fa0e784f194de2bf2382f6671.zip"
    ],
    "DestinationBucketName": {
     "Ref": "imgsdevE069EC0F"
    },
    "Prune": true
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-imgs-deploy-dev/CustomResource/Default"
   }
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource"
   }
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::",
           {
            "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
           },
           "/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::",
           {
            "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
           }
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:Abort*",
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "imgsdevE069EC0F",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "imgsdevE069EC0F",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
    "Roles": [
     {
      "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "f98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711da.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
      "Arn"
     ]
    },
    "Handler": "index.handler",
    "Layers": [
     {
      "Ref": "segmentimgsdeploydevAwsCliLayer45A031E2"
     }
    ],
    "Runtime": "python3.7",
    "Timeout": 900
   },
   "DependsOn": [
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource",
    "aws:asset:path": "asset.f98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711da",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "errorlayerCE986BA8": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "2371a9767f7f450ed4f8a66eb44fb05b0f9579212ccf98cfe9db350661e0898d.zip"
    },
    "CompatibleRuntimes": [
     "nodejs16.x"
    ],
    "Description": "error handling"
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/error-layer/Resource",
    "aws:asset:path": "asset.2371a9767f7f450ed4f8a66eb44fb05b0f9579212ccf98cfe9db350661e0898d",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "typeormlayer3BD63ADE": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "fc6520a3c3914d8ef10bab47682375709ae9cf27c4cbfe15a65c7bd89a86bd3e.zip"
    },
    "CompatibleRuntimes": [
     "nodejs16.x"
    ],
    "Description": "typeorm"
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/typeorm-layer/Resource",
    "aws:asset:path": "asset.fc6520a3c3914d8ef10bab47682375709ae9cf27c4cbfe15a65c7bd89a86bd3e",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "GetSegmentByIdLambdaServiceRoleA23FBBB6": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/GetSegmentByIdLambda/ServiceRole/Resource"
   }
  },
  "GetSegmentByIdLambdaServiceRoleDefaultPolicyF23942D5": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "imgsdevE069EC0F",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       }
      },
      {
       "Action": "s3:ListBucket",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "imgsdevE069EC0F",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "GetSegmentByIdLambdaServiceRoleDefaultPolicyF23942D5",
    "Roles": [
     {
      "Ref": "GetSegmentByIdLambdaServiceRoleA23FBBB6"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/GetSegmentByIdLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "GetSegmentByIdLambda46A303EE": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "e4e7366df7824516e65c2685322d9a121eca186187c953992a17631cb5fdc37b.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "GetSegmentByIdLambdaServiceRoleA23FBBB6",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "IMAGE_BUCKET_NAME": {
       "Ref": "imgsdevE069EC0F"
      },
      "SECRET_ARN": {
       "Fn::ImportValue": "environmentSecretsArn"
      },
      "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1"
     }
    },
    "FunctionName": "GetSegmentbyIdLambda",
    "Handler": "index.getSegmentbyId",
    "Layers": [
     {
      "Ref": "errorlayerCE986BA8"
     },
     {
      "Ref": "typeormlayer3BD63ADE"
     }
    ],
    "Runtime": "nodejs16.x"
   },
   "DependsOn": [
    "GetSegmentByIdLambdaServiceRoleDefaultPolicyF23942D5",
    "GetSegmentByIdLambdaServiceRoleA23FBBB6"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/GetSegmentByIdLambda/Resource",
    "aws:asset:path": "asset.e4e7366df7824516e65c2685322d9a121eca186187c953992a17631cb5fdc37b",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "readSecretsPolicy829CB90D": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "secretsmanager:GetSecretValue",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "environmentSecretsArn"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "readSecretsPolicy829CB90D",
    "Roles": [
     {
      "Ref": "GetSegmentByIdLambdaServiceRoleA23FBBB6"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/readSecretsPolicy/Resource"
   }
  },
  "segmentapidev5698AB4C": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "This service serves segment apis.",
    "Name": "segment-api-dev"
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/Resource"
   }
  },
  "segmentapidevCloudWatchRole442883F9": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/CloudWatchRole/Resource"
   }
  },
  "segmentapidevAccount17EC17DA": {
   "Type": "AWS::ApiGateway::Account",
   "Properties": {
    "CloudWatchRoleArn": {
     "Fn::GetAtt": [
      "segmentapidevCloudWatchRole442883F9",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "segmentapidev5698AB4C"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/Account"
   }
  },
  "segmentapidevDeployment20B8A4F3df48f0cedca9aa98bedf3c045367aca1": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "RestApiId": {
     "Ref": "segmentapidev5698AB4C"
    },
    "Description": "Automatically created by the RestApi construct"
   },
   "DependsOn": [
    "segmentapidevgetSegmentbyIdGET80B486AA",
    "segmentapidevgetSegmentbyIdOPTIONS0DA3D9F8",
    "segmentapidevgetSegmentbyId315B1430",
    "segmentapidevOPTIONS1671A014"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/Deployment/Resource"
   }
  },
  "segmentapidevDeploymentStagedev1F4DF514": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "RestApiId": {
     "Ref": "segmentapidev5698AB4C"
    },
    "DeploymentId": {
     "Ref": "segmentapidevDeployment20B8A4F3df48f0cedca9aa98bedf3c045367aca1"
    },
    "StageName": "dev"
   },
   "DependsOn": [
    "segmentapidevAccount17EC17DA"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/DeploymentStage.dev/Resource"
   }
  },
  "segmentapidevOPTIONS1671A014": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Fn::GetAtt": [
      "segmentapidev5698AB4C",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "segmentapidev5698AB4C"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,POST,PUT,PATCH,DELETE'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/Default/OPTIONS/Resource"
   }
  },
  "segmentapidevgetSegmentbyId315B1430": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "segmentapidev5698AB4C",
      "RootResourceId"
     ]
    },
    "PathPart": "getSegmentbyId",
    "RestApiId": {
     "Ref": "segmentapidev5698AB4C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/Default/getSegmentbyId/Resource"
   }
  },
  "segmentapidevgetSegmentbyIdOPTIONS0DA3D9F8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "segmentapidevgetSegmentbyId315B1430"
    },
    "RestApiId": {
     "Ref": "segmentapidev5698AB4C"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,POST,PUT,PATCH,DELETE'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/Default/getSegmentbyId/OPTIONS/Resource"
   }
  },
  "segmentapidevgetSegmentbyIdGETApiPermissionBackendStackDevsegmentapidevE5D5AD01GETgetSegmentbyIdDA004284": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetSegmentByIdLambda46A303EE",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "segmentapidev5698AB4C"
       },
       "/",
       {
        "Ref": "segmentapidevDeploymentStagedev1F4DF514"
       },
       "/GET/getSegmentbyId"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/Default/getSegmentbyId/GET/ApiPermission.BackendStackDevsegmentapidevE5D5AD01.GET..getSegmentbyId"
   }
  },
  "segmentapidevgetSegmentbyIdGETApiPermissionTestBackendStackDevsegmentapidevE5D5AD01GETgetSegmentbyId656A44D0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetSegmentByIdLambda46A303EE",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "segmentapidev5698AB4C"
       },
       "/test-invoke-stage/GET/getSegmentbyId"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/Default/getSegmentbyId/GET/ApiPermission.Test.BackendStackDevsegmentapidevE5D5AD01.GET..getSegmentbyId"
   }
  },
  "segmentapidevgetSegmentbyIdGET80B486AA": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "GET",
    "ResourceId": {
     "Ref": "segmentapidevgetSegmentbyId315B1430"
    },
    "RestApiId": {
     "Ref": "segmentapidev5698AB4C"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "RequestParameters": {
      "integration.request.querystring.id": "method.request.querystring.id"
     },
     "RequestTemplates": {
      "application/json": "{ \"statusCode\": \"200\" }"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetSegmentByIdLambda46A303EE",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.querystring.id": true
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/segment-api-dev/Default/getSegmentbyId/GET/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/21Ry27CMBD8Fu5mW4jUe0jVUx8IpF4j42xhg2NHWbsoivLvtR1IqdTTjnfs2Z3xGrIVPC7khZeqOi81HWDYO6nOIrTKgTMYNl6d0Yniy1zRVDaScRSclUOFrbZ9g8bBRD3PDSGZ0THksYxCy+ZQSRiC1qvssfvEjskasSdz1OisefFGudiZQbg64z9vArHFriGOp1GQbGDYWY2RSHVrNak+3UvoNr40tsKa4T2VWVy2dJQOL7IPOsgubylJ/cJcKeuDpzt7oXt3CsEd0/wJhKfWdwpjUuIN3clWkbyiG3sdkvA476ij1TL8gdIE+YULTcm9SElG/RCZKDw72/ynFPGHd61POxbWVORSTtE81PzwvXqCVQbrRc1Eyy74ogZhN9UfvxWY3BYCAAA="
   },
   "Metadata": {
    "aws:cdk:path": "BackendStackDev/CDKMetadata/Default"
   },
   "Condition": "CDKMetadataAvailable"
  }
 },
 "Outputs": {
  "segmentapidevEndpointF428F28F": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "segmentapidev5698AB4C"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "segmentapidevDeploymentStagedev1F4DF514"
      },
      "/"
     ]
    ]
   }
  }
 },
 "Conditions": {
  "CDKMetadataAvailable": {
   "Fn::Or": [
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "af-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ca-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-northwest-1"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-3"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "me-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "sa-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-2"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-2"
       ]
      }
     ]
    }
   ]
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}